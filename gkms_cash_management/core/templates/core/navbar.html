<nav class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(45deg, #E50914, #FF3B30);">
  <div class="container">
    <a class="navbar-brand" href="{% url 'home' %}">
      <i class="fas fa-coins me-2"></i>
      <strong>GKMS</strong> Cash Management
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        {% if user.is_authenticated %}
          {% if user.is_staff %}
            <li class="nav-item">
              <a class="nav-link {% if request.path == '/admin-dashboard/' %}active{% endif %}" href="{% url 'admin_dashboard' %}">
                <i class="fas fa-tachometer-alt me-1"></i> Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if '/system-admin/manage-users/' in request.path %}active{% endif %}" href="{% url 'manage_users' %}">
                <i class="fas fa-users me-1"></i> Manage Users
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if request.path == '/generate-report/' %}active{% endif %}" href="{% url 'generate_report' %}">
                <i class="fas fa-chart-bar me-1"></i> Reports
              </a>
            </li>
          {% else %}
            <li class="nav-item">
              <a class="nav-link {% if request.path == '/agent-dashboard/' %}active{% endif %}" href="{% url 'agent_dashboard' %}">
                <i class="fas fa-tachometer-alt me-1"></i> Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if request.path == '/request-cash/' %}active{% endif %}" href="{% url 'request_cash' %}">
                <i class="fas fa-money-bill-wave me-1"></i> Request Cash
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if request.path == '/submit-eod-report/' %}active{% endif %}" href="{% url 'submit_eod_report' %}">
                <i class="fas fa-file-alt me-1"></i> EOD Report
              </a>
            </li>
          {% endif %}
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
              <i class="fas fa-user-circle me-1"></i> {{ user.username }}
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li>
                <a class="dropdown-item" href="{% url 'logout' %}">
                  <i class="fas fa-sign-out-alt me-2"></i> Logout
                </a>
              </li>
            </ul>
          </li>
        {% else %}
          <li class="nav-item">
            <a class="nav-link {% if request.path == '/login/' %}active{% endif %}" href="{% url 'login' %}">
              <i class="fas fa-sign-in-alt me-1"></i> Login
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if request.path == '/signup/' %}active{% endif %}" href="{% url 'signup' %}">
              <i class="fas fa-user-plus me-1"></i> Sign Up
            </a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<!-- Message container for notifications -->
{% if messages %}
<div class="message-container" style="position: fixed; top: 70px; right: 15px; z-index: 1050; max-width: 350px;">
  {% for message in messages %}
  <div class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm" role="alert" style="margin-bottom: 10px; border-radius: 8px;">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}
</div>
{% endif %} 